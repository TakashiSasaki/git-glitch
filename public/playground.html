<html>
  <head>
    <title>microdata-rdf-streaming-parser playground</title>
    <script src="https://microdata-rdf-streaming-parser.glitch.me/microdata-rdf-streaming-parser.webpack.js"></script>
    <style>
      textarea {
        width: 90%;
        height: 10em;
      }
    </style>
  </head>
  <body>
    <textarea id="inputTextarea"></textarea>
    <div id="outputDiv"></div>
    <script type="module">
      const inputTextarea = document.querySelector("#inputTextarea");
      const outputDiv = document.querySelector("#outputDiv");
      const parser = new MicrodataRdfParser();
      parser.on("data", (x)=>{
        const p = document.createElement("p");
        p.innerText = JSON.stringify(x, null, 2);
        outputDiv.appendChild(p);
      });
      parser.on("error", (x)=>{
        const p = document.createElement("p");
        p.innerText = JSON.stringify(x, null, 2);
        outputDiv.appendChild(p);
      });
      parser.on("end", (x)=>{
        p.innerText = JSON.stringify(x, null, 2);
        outputDiv.appendChild(p);
      })

      inputTextarea.addEventListener("change", (changeEvent)=>{
        outputDiv.innerHTML = "";
        const p = document.createElement("p");
        outputDiv.appendChild(p);
      });
    </script>
  </body>
</html>
